<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>BLT: BLT - A Library for Lattice Based Integer Linear Programming</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="blt_logo_lattice.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BLT
   </div>
   <div id="projectbrief">Lattice based integer linear programming</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">BLT - A Library for Lattice Based Integer Linear Programming </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Introduction</h2>
<p>BLT is a C/C++ library for solving certain integer linear programming (ILP) problems using techniques that come from the theory of lattices. It is complementary to many existing, traditional ILP solvers in that there are problems it solves very well and very quickly which traditional solvers do not (and vice-versa).</p>
<p>For a theoretical discussion, see our conference <a href="http://smt2015.csl.sri.com/wp-content/uploads/2015/06/2015-Hendrix-Jones-Bounded-Integer-Linear-Constraint-Solving-via-Lattice-Search.pdf">paper</a>.</p>
<p>This project also provides a higher level set of Haskell bindings to BLT through a Haskell package called "blt". See "Installation and Usage" below for details.</p>
<p>Finally, there is a stand-alone ILP solver included called <code>run_blt</code>. See the "Stand-alone Solver" section.</p>
<p>The current version of BLT is 0.13.4, dated 2016-05-02.</p>
<h2>Documentation</h2>
<p>Documentation (HTML) for the C/C++ library and the Haskell binding API can be found in <code>doc/c-api/html</code> and <code>doc/haskell</code>, respectively.</p>
<p>The C/C++ library API is documented in the file <a href="blt_8h.html">blt.h</a>. For the Haskell API, see the BLT.Bindings module.</p>
<p>Use <a href="http://www.stack.nl/~dimitri/doxygen/">doxygen</a> to build the in-source documentation for the C/C++ library. Use <code>cabal haddock</code> to generate the Haskell source documentation.</p>
<h2>Installation and Usage</h2>
<p>The C/C++ library may be built using standard Unix build system tools, <code>gcc</code> or <code>clang</code> and <code>make</code>. The Haskell bindings may be built using standard Haskell ecosystems tools such as either <code>cabal</code> or <a href="http://docs.haskellstack.org/en/stable/README">stack</a>.</p>
<h3>Dependencies</h3>
<p>BLT depends on the following 3rd party software:</p>
<ul>
<li>C++ compiler supporting the c++0x standard</li>
<li><a href="&gt;= 7.6">GHC</a> &ndash; optional, for Haskell support</li>
<li><a href="&gt;= 4.53 &amp;&amp; &lt;= 4.55">GLPK</a> &ndash; provides real-valued linear programming (note v4.56 &amp; 4.57 are known to be incompatible with BLT)</li>
<li><a href="&gt;= 6.2.1 &amp;&amp; &lt;7.0 or &gt;= 9.0.0">NTL</a> &ndash; provides lattice reduction algorithms</li>
<li><a href="&gt;= 1.55.0">Boost</a> &ndash; provides matrices and vectors, rational numbers, and the unit test framework. Only a subset of the boost headers are needed.</li>
</ul>
<p>and optionally,</p>
<ul>
<li>Yices (&gt;= 2.3.0, see the section "Sound Mode" for more details)</li>
</ul>
<p>An bootstrapping script <code>bootstrap.sh</code> is provided and may be used to automatically download and install most of these (not including the compiler).</p>
<h3>Building &amp; Installing 'libblt'</h3>
<p>'libblt' is the C/C++ library implementing the core of BLT. The source code and build system for libblt is located in the 'libblt' directory. The library is built using GNU make as follows. First, set the environment variables listed in the <code>config.mk.example</code> file and rename it to <code>config.mk</code>. The variables should be set so that the dependencies listed above (GLPK, etc..) can be found by the C++ compiler. This can also be done in the shell, at the command line, or in the <code>Makefile</code> itself. Then invoke: </p><pre class="fragment">% cd libblt
% make
</pre><p>It is recommended to test your build by running: </p><pre class="fragment">% make test
% make longtest
</pre><p>The second command may take from several minutes to several hours depending on how you have chosen to configure the build.</p>
<p>Testing with Yices support enabled is done using: </p><pre class="fragment">% make test-yices
% make longteset-yices
</pre><p>You can expect the 'longtest-yices' target to take more than 1 hour.</p>
<p>The optional <code>PREFIX</code> environment variable specifies the installation prefix. BLT may now be installed by invoking: </p><pre class="fragment">% make install
</pre><p>or </p><pre class="fragment">% PREFIX=/usr/local make install
</pre><p>or similar.</p>
<p>For example, if the dependency libraries are installed in $HOME/local/lib and the Boost headers are installed in $HOME/local/include, then the following commands will build and install BLT to <code>/usr/local/{lib,bin}</code>. </p><pre class="fragment">% export LDFLAGS=-L$HOME/local/lib CPPFLAGS=-I$HOME/local/include
% make
% PREFIX=/usr/local make install
</pre><h4>Troubleshooting</h4>
<p>If you have installed GLPK and NTL into a local prefix (as opposed to a system-wide location like <code>/usr/local/lib</code>) it is necessary to tell the Makefile in <code>libblt</code> where to find them. This can be done by explicitly setting the environment variables <code>LDFLAGS</code> and <code>CPPFLAGS</code>.</p>
<p>For example, if your local prefix is <code>$HOME/local</code>, one might use: </p><pre class="fragment">% export BLT_LIB_DEST=$HOME/local/lib
% export LDFLAGS=-L$HOME/local/lib
% export CPPFLAGS=-I$HOME/local/include
</pre><h3>Sound Mode</h3>
<p>Including the Yices SMT solver and enabling it at runtime allows BLT to operate as a sound and complete decision procedure for bounded integer linear programming problems. However, it comes at a large performance cost. In dense, high dimensional problems the cost has been observed as high as a factor of 1000 in total runtime.</p>
<h3>Stand-alone Solver</h3>
<p>The included program <code>run_blt</code> is a standalone ILP (actually, Bounded ILP) solver using the BLT library. It takes input in the form described below, and returns a SAT or UNSAT decision, optionally a model, and some limited runtime information.</p>
<h4>INPUT</h4>
<p>The expected input is a single file, <code>&lt;name&gt;.bilp</code> where <code>&lt;name&gt;</code> is any valid filename prefix. The file is expected to contain a system of two-sided inequalities representing a matrix system </p><pre class="fragment">L &lt;= A*x &lt;= U,
</pre><p>where L, U are integer column vectors, A is an integer matrix, and x is a column vector of integer unknowns (variables). <code>run_blt</code> decides the satisfiability of such a system of inequalities. The input <code>.bilp</code> file should be in the form: </p><pre class="fragment">l0 &lt;= a11 a12 ... a2n &lt;= u0
.      .                 .
.      .                 .
.      .                 .
lm &lt;= am1 am2 ... amn &lt;= um
</pre><p>with all the a's, l's and u's being integer constants. In this case, 'x' is a vector of 'n' unknowns. In this format, each line represents a single two-sided inequality and excess whitespace is ignored.</p>
<p><code>run_blt</code> supports a few optional flags:</p>
<ul>
<li><code>-m</code> print out a satisfying model if the problem is SAT</li>
<li><code>-v</code> print out version and compile-time information</li>
<li><code>-h</code> print out program usage</li>
</ul>
<h4>OUTPUT</h4>
<p>The output consists of a single line on <code>stdout</code> of the form: </p><pre class="fragment">PROBLEM &lt;name&gt; RUNTIME &lt;r&gt; niter &lt;i&gt; npru &lt;p&gt; rc &lt;s&gt; check &lt;c&gt;
</pre><p>where: </p><pre class="fragment">&lt;name&gt; |  provided on the command line
   &lt;r&gt; |  runtime in seconds
   &lt;i&gt; |  number of search iterations
   &lt;p&gt; |  number of layers pruned during search
   &lt;s&gt; |  return status, e.g. OK, STATUS_INPUT_ERROR, STATUS_LP_ERROR
   &lt;c&gt; |  decision: SAT or UNSAT
</pre><p>If the <code>-m</code> flag is given and the problem is SAT, then an additional line is printed that includes the model: </p><pre class="fragment">PROBLEM &lt;name&gt; MODEL &lt;vector&gt;
</pre><p>where: </p><pre class="fragment">  &lt;name&gt; |  provided on the command line
&lt;vector&gt; |  vector of integers representing the solution 'x'
</pre><h2>Haskell Bindings to BLT</h2>
<p>Building the bindings requires the Haskell compiler GHC version 7.6 or greater and the cabal-install tool, preferably version 1.18 or greater, but older versions may also work (untested).</p>
<p>To install the bindings to your user packages: </p><pre class="fragment">% cabal install --extra-lib-dirs=&lt;path to deps&gt;
</pre><p>where &lt;path to="" deps&gt;=""&gt; is a directory containing the dependency libraries <code>libglpk.*</code>, and <code>libntl.*</code>. The flag is not neccesary if GLPK and NTL are installed system wide. See also the sections "Dependencies" and "Troubleshooting"</p>
<p>The cabal configure process automatically builds and installs (locally) the C/C++ library contained in 'libblt', so it's important that the compiler and linker environment flags are set before running <code>cabal install</code>. The BLT library can be used in any Haskell project by adding <code>blt</code> to your build dependencies.</p>
<p>See the Haskell documentation listed in the "Documentation" section for details about the API. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon May 2 2016 10:24:48 for BLT by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
